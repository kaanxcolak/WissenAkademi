@model ICollection<MemberPhoneViewModel>
@{
    ViewData["Title"] = "Home Page";
}


@if (TempData["AddPhoneSuccessMsg"] != null)
{
    <div class="alert alert-success alert-dismissible fade show" role="alert">
        @* <svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Success:"><use xlink:href="#check-circle-fill" /></svg>*@
        <i class="bi bi-check-circle-fill"></i>
        @TempData["AddPhoneSuccessMsg"]
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
}

<div>
    <a class="bt btn-primary" asp-controller="Home" asp-action="AddPhone">
        Yeni Telefon Ekle
    </a>

</div> <br />

<div class="row">
    @if (Context.User.Identity?.Name == null)
    {
        <p>Buraya resim ya da içeriğe dair tasarım gelecektir</p>        
    }
    else if (Model.Count == 0)
    {
        <h4>Rehberimizde henüz kimse yoktur. Yeni numara eklediğimizde burada listelenecektir.</h4>        
    }else
    {
        int counter = 0;
        <table class="table table-hover table-bordered0" id="phoneTable">
            <thead>
                <tr>
                    <th>Sıra No</th>
                    <th>Eklendiği Tarih</th>
                    <th>Kategori</th>
                    <th>İsim Soyisim</th>
                    <th>Telefon</th>
                    <th>İşlemler</th>                    
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td><b>@(counter+=1)</b></td>
                        <td>@item.CreatedDate.ToString("dd/MM/yyyy")</td>
                        <td>@item.PhoneType.Name</td>
                        <td>@item.FriendNameSurname</td>
                        <td>@item.Phone</td>
                        <td>
                            <a class="btn btn-primary btn-sm"  href="/Home/EditPhone/@item.Id">Düzenle</a>
                            <a class="btn btn-primary btn-sm" asp-controller="Home" asp-action="DeletePhone"
                            asp-route-id="@item.Id">Sil</a>

                            <a class="btn btn-info btn-sm" onclick="deletePhone(@item.Id)"> AJAX ile Sil</a> 

                        </td>
                        
                    </tr>
                }

            </tbody>

        </table>
    }
</div>